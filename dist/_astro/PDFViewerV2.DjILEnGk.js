const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/index.LCK48GXN.js","_astro/jsx-runtime.ClP7wGfN.js","_astro/index.DK-fsZOb.js","_astro/clsx.B-dksMZM.js"])))=>i.map(i=>d[i]);
import{_ as g}from"./StickyNewsletterSection.77cOkaNG.js";import{j as e}from"./jsx-runtime.ClP7wGfN.js";import{r as o}from"./index.DK-fsZOb.js";/* empty css                            */import{m as y}from"./proxy.CMPF0DQR.js";import{c as S,X as E}from"./x.CCZmCzz0.js";import{A as _}from"./index.cywEhz0N.js";import"./GradientModeContext.CwkpCj0o.js";import"./typography.BZ0G-DAB.js";import"./BookViewerContext.D1l0oHeG.js";import"./blogPosts.xmgh4TIS.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=S("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);let h=null;const j=({pageNumber:t,pageWidth:s,isLeft:r,isPdfLibLoaded:i})=>t===null?e.jsx("div",{style:{width:s,height:s*1.4},className:"bg-transparent"}):e.jsxs("div",{className:"bg-white shadow-2xl relative overflow-hidden",style:{width:s,height:s*1.4},children:[i&&h?e.jsx(h,{pageNumber:t,width:s,renderTextLayer:!1,renderAnnotationLayer:!1,loading:e.jsx("div",{className:"w-full h-full bg-gray-100 animate-pulse"})}):e.jsx("div",{className:"w-full h-full bg-gray-100 animate-pulse"}),e.jsx("div",{className:`absolute top-0 bottom-0 w-px bg-black/10 ${r?"right-0":"left-0"}`})]}),C=({currentPage:t,numPages:s,pageWidth:r})=>{const[i,d]=o.useState(!1);o.useEffect(()=>{(async()=>{typeof window<"u"&&(h=(await g(()=>import("./index.LCK48GXN.js"),__vite__mapDeps([0,1,2,3]))).Page,d(!0))})()},[]);const a=t,l=t+1<=s?t+1:null;return e.jsxs("div",{className:"flex items-center justify-center gap-0 perspective-1000",children:[e.jsx(j,{pageNumber:a,pageWidth:r,isLeft:!0,isPdfLibLoaded:i}),e.jsx(j,{pageNumber:l,pageWidth:r,isLeft:!1,isPdfLibLoaded:i})]})};let v=null,$=null,x=null;const I=({currentPage:t,numPages:s})=>{const[r,i]=o.useState("up"),[d,a]=o.useState(t);o.useEffect(()=>{t>d?i("down"):t<d&&i("up"),a(t)},[t,d]);const l=()=>{if(t===1)return`1 / ${s}`;{const c=t+1<=s?t+1:null;return c?`${t}-${c} / ${s}`:`${t} / ${s}`}};return e.jsx("div",{className:"absolute bottom-6 right-6 z-30",children:e.jsx("div",{className:"text-white text-sm font-poppins px-4 py-2 rounded-lg",style:{background:"rgba(44, 71, 110, 0.25)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(71, 113, 151, 0.3)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)"},children:e.jsx("div",{className:"relative h-6 overflow-hidden",children:e.jsx(_,{mode:"wait",custom:r,children:e.jsx(y.div,{custom:r,initial:{y:r==="down"?20:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:r==="down"?-20:20,opacity:0},transition:{duration:.3,ease:"easeOut"},className:"flex items-center justify-center font-bold",children:l()},l())})})})})},K=({pdfUrl:t,onClose:s,title:r="Document Viewer"})=>{const[i,d]=o.useState(0),[a,l]=o.useState(1),[c,f]=o.useState(!1),[N,p]=o.useState(!0),[w,b]=o.useState(null),[M,z]=o.useState(1),[k,L]=o.useState(!1);o.useEffect(()=>{(async()=>{if(typeof window<"u")try{const m=await g(()=>import("./index.LCK48GXN.js"),__vite__mapDeps([0,1,2,3]));v=m.Document,$=m.Page,x=m.pdfjs,x.GlobalWorkerOptions.workerSrc=`https://unpkg.com/pdfjs-dist@${x.version}/build/pdf.worker.min.mjs`,f(!0)}catch(m){console.error("Failed to load PDF library:",m),b("Failed to load document viewer.")}})();const u=()=>{L(window.innerWidth<768)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const P=({numPages:n})=>{d(n),p(!1)},D=n=>{console.error("PDF load error:",n),b("Failed to load PDF. Please check your connection or try again later."),p(!1)};return c?e.jsxs(y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-[#1B3764]/95 backdrop-blur-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-white/10 bg-white/5",children:[e.jsx("h2",{className:"text-white font-bold font-poppins truncate max-w-[60%]",children:r}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsx("a",{href:t,download:!0,className:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-full transition-all",title:"Download PDF",children:e.jsx(F,{className:"w-5 h-5 md:w-6 md:h-6"})}),e.jsx("button",{onClick:s,className:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-full transition-all",title:"Close viewer",children:e.jsx(E,{className:"w-6 h-6 md:w-8 md:h-8"})})]})]}),e.jsxs("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center p-4",children:[N&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:e.jsx("div",{className:"w-12 h-12 border-4 border-white/20 border-t-[#F2611D] rounded-full animate-spin"})}),e.jsx(v,{file:t,onLoadSuccess:P,onLoadError:D,loading:null,className:"max-h-full",children:e.jsx(C,{currentPage:a,numPages:i,pageWidth:k?window.innerWidth*.9:500,onPageChange:l})}),w&&e.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 p-6 rounded-xl text-center max-w-md",children:[e.jsx("p",{className:"text-white font-medium mb-4",children:w}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-white text-[#1B3764] rounded-full font-bold hover:bg-gray-100 transition-colors",children:"Close"})]}),i>0&&e.jsx(I,{currentPage:a,numPages:i})]}),e.jsxs("div",{className:"p-6 flex items-center justify-center gap-8 bg-white/5 border-t border-white/10",children:[e.jsx("button",{onClick:()=>l(n=>Math.max(1,n-2)),disabled:a<=1,className:"text-white/70 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:()=>l(n=>Math.min(i,n+2)),disabled:a>=i-1,className:"text-white/70 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})})})]})]}):e.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/90 flex flex-col items-center justify-center text-white",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-white/20 border-t-[#F2611D] rounded-full animate-spin mb-4"}),e.jsx("p",{className:"font-poppins",children:"Initializing Viewer..."})]})};export{K as default};
